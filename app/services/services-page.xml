<Page
    navigatingTo="onNavigatingTo"
    xmlns="http://schemas.nativescript.org/tns.xsd">

    <ActionBar>
        <NavigationButton visibility="hidden"></NavigationButton>
        <GridLayout columns="50, *">
            <Label class="action-bar-title" text="Services" colSpan="2"/>
            <Label class="fas" text="&#xf0c9;" tap="onDrawerButtonTap"/>
        </GridLayout>
    </ActionBar>

    <GridLayout class="page__content" rows="auto,auto">
        <GridLayout row="0" columns="auto,*,auto">
            <Label col="0" class="action-bar-title" text="Show all services" />
            <!-- col 1 is empty -->
            <Switch col="2" checked="{{ showAllServices }}" checkedChange="onCheckedChange" />
        </GridLayout>
        <ListView row="1" height="100%" items="{{ services }}" width="100%" itemTap="onItemTap">
            <ListView.itemTemplate>
                <GridLayout columns="auto,auto,auto" class="{{ 'default-list-item ' + (attrs.state == 2 ? 'critical' : (attrs.state == 1 ? 'warning' : 'ok')) }}">
                    <Label col="0" class="fas service-list-status-icon" text="{{ attrs.acknowledgement == 2 ? '&#xf1f6;' : (attrs.state == 2 ? '&#xf06a;' : '&#xf071;') }}" />
                    <Label col="1" text="{{ attrs.name }}" />
                    <Label col="2" text="{{ attrs.host_name }}" />
                </GridLayout>
            </ListView.itemTemplate>
        </ListView>
    </GridLayout>
</Page>
